type Chat {
  id: ID!
  userId: ID!
  personaId: ID!
  title: String
  topic: String
  summary: String
  createdAt: Float!
  updatedAt: Float!
  lastMessage: Message
  messagesCount: Int!
}

input CreateChatInput {
  title: String
  topic: String
}

input CreateChatWithMessageInput {
  title: String
  topic: String
  message: MessageInput!
}

input UpdateChatInput {
  title: String
  topic: String
}

extend type Mutation {
  createChat(input: CreateChatInput!): Chat!
  createChatWithMessage(input: CreateChatWithMessageInput!): Chat!
  deleteChat(id: ID!): Boolean!
  updateChat(id: ID!, input: UpdateChatInput!): Chat!
}

extend type Query {
  chats: [Chat!]!
  chat(id: ID!): Chat
}
