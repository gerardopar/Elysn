type Persona {
  id: ID!
  userId: ID!
  name: String
  avatarUrl: String
  persona: PersonaData
  state: PersonaState
  createdAt: Float!
  updatedAt: Float!
}

type PersonaData {
  coreTraits: [String]
  tone: String
  archetype: String
}

type PersonaState {
  availability: String
}

input UpdatePersonaInput {
  name: String
  avatarUrl: String
}

extend type Query {
  personas: [Persona!]
  persona(id: ID!): Persona
}

extend type Mutation {
  updatePersona(id: ID!, input: UpdatePersonaInput!): Persona!
}

type PersonaStatus {
  typing: Boolean!
  chatId: ID!
}

type Subscription {
  personaStatus(chatId: ID!): PersonaStatus!
}
